syntax = "proto3";

option java_package = "com.soulfiremc.grpc.generated";
option java_multiple_files = true;

package soulfire.v1;

import "soulfire/common.proto";

message ServerConfig {
  repeated SettingsNamespace settings = 1;
}

message ServerInfoRequest {
}

message ServerInfoResponse {
  ServerConfig config = 1;
  // All available settings definitions that can be rendered by identifier
  repeated SettingsDefinition settings_definitions = 4;
  // Pages that group settings together (reference settings by identifier)
  repeated SettingsPage server_settings = 2;
  repeated ServerPlugin plugins = 3;
}

message ServerUpdateConfigRequest {
  ServerConfig config = 1;
}

message ServerUpdateConfigResponse {
}

service ServerService {
  rpc GetServerInfo (ServerInfoRequest) returns (ServerInfoResponse) {}
  rpc UpdateServerConfig (ServerUpdateConfigRequest) returns (ServerUpdateConfigResponse) {}
}
